window.__require=function t(e,i,o){function a(n,r){if(!i[n]){if(!e[n]){var c=n.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!r&&u)return u(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+n+"'")}}var l=i[n]={exports:{}};e[n][0].call(l.exports,function(t){return a(e[n][1][t]||t)},l,l.exports,t,e,i,o)}return i[n].exports}for(var s="function"==typeof __require&&__require,n=0;n<o.length;n++)a(o[n]);return a}({DataClass:[function(t,e,i){"use strict";cc._RF.push(e,"bec48sV8ttDZ6GgA0kRm1ny","DataClass"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,function(){function t(){}return t=__decorate([a],t)}());i.default=s,cc._RF.pop()},{}],GameLogic:[function(t,e,i){"use strict";cc._RF.push(e,"7c1d7JnVLRPMqopMoQKZGRn","GameLogic"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,t("./DataClass")),n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.deltaScore=0,e}var i;return __extends(e,t),i=e,e.getInstance=function(){return i.instance||(i.instance=new i),i.instance},e.prototype.gameStart=function(t){var e=this;this.InitGame(),this.gameView=t,this.gameView.onDropGarbage=function(t,i){if(t==i.split("_")[0]){e.garbageData.correct=!0,e.garbageData.score+=3,e.garbageData.dropedGarbageNum++;var o=e.garbageData.dropedGarbageNum;o<20&&(e.garbageData.level="none",e.garbageData.curProgress=o,e.garbageData.curtotalProgress=20),o>=20&&o<47&&(e.garbageData.level="level1",e.garbageData.curProgress=o-20,e.garbageData.curtotalProgress=27),o>=47&&o<77&&(e.garbageData.level="level2",e.garbageData.curProgress=o-27-20,e.garbageData.curtotalProgress=30),o>77&&(e.garbageData.level="level3")}else e.garbageData.correct=!1,e.deltaScore=0;return e.garbageData}},e.prototype.InitGame=function(){this.garbageData=new s.default,this.garbageData.correct=!1,this.garbageData.dropedGarbageNum=0,this.garbageData.score=0,this.garbageData.level="none",this.garbageData.carouselSpeed=140},e=i=__decorate([a],e)}(cc.Component);i.default=n,cc._RF.pop()},{"./DataClass":"DataClass"}],GameView:[function(t,e,i){"use strict";cc._RF.push(e,"a1795p9RCZFPLJNJMj4Tl26","GameView"),Object.defineProperty(i,"__esModule",{value:!0});var o=t("./Util"),a=t("./Gameover"),s=t("./MusicManager"),n=140,r=2,c=cc._decorator,u=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gamestatus=!1,e.carouselSpeed=n,e.gcCreateSpeed=r,e.tweenDic={},e.offsetx=0,e.offsety=0,e.level1=!1,e.level2=!1,e.garbageRes=["kehuishou_1","kehuishou_2","kehuishou_3","kehuishou_4","kehuishou_5","kehuishou_6","kehuishou_7","kehuishou_8","kehuishou_9","kehuishou_10","kehuishou_11","kehuishou_12","kehuishou_13","kehuishou_14","kehuishou_15","kehuishou_16","kehuishou_17","kehuishou_18","kehuishou_19","kehuishou_20","kehuishou_21","kehuishou_22","kehuishou_23","kehuishou_24","kehuishou_25","kehuishou_26","kehuishou_27","kehuishou_28","kehuishou_29","kehuishou_30","kehuishou_31","kehuishou_32","kehuishou_33","kehuishou_34","kehuishou_35","ganlaji_1","ganlaji_2","ganlaji_3","ganlaji_4","ganlaji_5","ganlaji_6","ganlaji_7","ganlaji_8","shilaji_1","shilaji_2","shilaji_3","shilaji_4","shilaji_5","shilaji_6","shilaji_7","shilaji_8","shilaji_9","shilaji_10","shilaji_11","shilaji_12","youhai_1","youhai_2","youhai_3","youhai_4","youhai_5","youhai_6","youhai_7","youhai_8","youhai_9"],e.gcInPool=[],e.strikeOut=0,e}return __extends(e,t),e.prototype.onLoad=function(){fgui.addLoadHandler(),fgui.GRoot.create(),fgui.UIPackage.loadPackage("UI/gc_com",this.onUILoaded.bind(this))},e.prototype.onUILoaded=function(){this.view=fgui.UIPackage.createObject("gc_com","game").asCom,this.view.makeFullScreen(),fgui.GRoot.inst.addChild(this.view),this.GetUIElements()},e.prototype.GetUIElements=function(){this.task=this.view.getController("task"),this.status=this.view.getChild("btn_game_ctrl").asCom.getController("status"),this.sound_status=this.view.getChild("btn_game_sound").asCom.getController("status"),this.carousel1=this.view.getChild("carousel1").asCom,this.carousel2=this.view.getChild("carousel2").asCom,this.youhai=this.view.getChild("youhai").asGraph,this.kehuishou=this.view.getChild("kehuishou").asGraph,this.shilaji=this.view.getChild("shilaji").asGraph,this.ganlaji=this.view.getChild("ganlaji").asGraph,this.timer=this.view.getChild("timer").asTextField,this.score=this.view.getChild("score").asTextField,this.coolDownTxt=this.view.getChild("coolDownTxt").asTextField,this.star_progress=this.view.getChild("star_progress").asProgress,this.btn_game_ctrl=this.view.getChild("btn_game_ctrl").asButton,this.btn_game_sound=this.view.getChild("btn_game_sound").asButton,this.coolDown=this.view.getTransition("coolDown"),this.right=this.view.getTransition("right"),this.wrong=this.view.getTransition("wrong"),this.shilaji_t=this.view.getTransition("shilaji_t"),this.ganlaji_t=this.view.getTransition("ganlaji_t"),this.kehuishou_t=this.view.getTransition("kehuishou_t"),this.youhai_t=this.view.getTransition("youhai_t"),this.youhaiRect=this.youhai.localToGlobalRect(0,0,this.youhai.width,this.youhai.height),this.kehuishouRect=this.kehuishou.localToGlobalRect(0,0,this.kehuishou.width,this.kehuishou.height),this.shilajiRect=this.shilaji.localToGlobalRect(0,0,this.shilaji.width,this.shilaji.height),this.ganlajiRect=this.ganlaji.localToGlobalRect(0,0,this.ganlaji.width,this.ganlaji.height),this.timer.text="60S"},e.prototype.start=function(){var t=this;this.AttachController(),this.coolDown.play(function(){t.carouselTween(),t.gamestatus=!0}),this.task.on(fgui.Event.STATUS_CHANGED,this.levelChanged,this),this.fisherYatesShuffle(),this.schedule(function(){t.shilaji_t.play()},6),this.schedule(function(){t.ganlaji_t.play()},8),this.schedule(function(){t.kehuishou_t.play()},10),this.schedule(function(){t.youhai_t.play()},12),this.createRuleFuc=function(){t.gamestatus&&t.instantiate()},this.schedule(this.createRuleFuc,this.gcCreateSpeed)},e.prototype.levelChanged=function(){this.unschedule(this.createRuleFuc),this.schedule(this.createRuleFuc,this.gcCreateSpeed)},e.prototype.AttachController=function(){var t=this;this.btn_game_ctrl.onClick(this.onClickCtrlBtn,this),this.btn_game_sound.onClick(function(){var e=t.sound_status.selectedPage;e="play"==e?"pause":"play",0==s.default.getInstance().getMusicVolume()?(s.default.getInstance().setAllMusicVolume(1),s.default.getInstance().setAllSoundVolume(1)):(s.default.getInstance().setAllMusicVolume(0),s.default.getInstance().setAllSoundVolume(0)),t.sound_status.selectedPage=e},this);var e=60;this.schedule(function(){if(t.gamestatus){if(t.timer.text=e+"S",!(--e<=0))return e>=0&&e<20?(t.gcCreateSpeed=.6,void(t.carouselSpeed=350)):e>=20&&e<40?(t.gcCreateSpeed=1,void(t.carouselSpeed=220)):e>=40&&e<60?(t.gcCreateSpeed=2,void(t.carouselSpeed=n)):void 0;t.gameEnd()}},1);var i=s.default.getInstance().getMusicVolume();this.sound_status.selectedPage=0==i?"pause":"play"},e.prototype.onClickCtrlBtn=function(){try{var t=this.status.selectedPage;this.gamestatus="play"==t,this.coolDown.setPaused(!this.gamestatus),t="play"==t?"pause":"play",this.status.selectedPage=t,"play"==t?(null==this.mask&&(this.mask=new fgui.GGraph),this.mask.setPosition(0,150),this.mask.setSize(1920,925),this.view.addChild(this.mask)):null!=this.mask&&this.mask.setPosition(1e4,1e4),cc.log(t)}catch(t){console.log(t)}},e.prototype.carouselTween=function(){var t=this;this.schedule(function(e){t.gamestatus&&(t.carousel1.x-=e*t.carouselSpeed,t.carousel2.x-=e*t.carouselSpeed,t.carousel1.x<-2160&&(t.carousel1.x=2160),t.carousel2.x<-2160&&(t.carousel2.x=2160))},0)},e.prototype.onDragStart=function(t){var e=fgui.GObject.cast(t.currentTarget);this.tmpDragObjName=e.name,this.unschedule(this.tweenDic[e.id]);var i=fgui.GRoot.inst.getTouchPosition(),o=e.localToGlobalRect(0,0,e.width,e.height);this.offsetx=i.x-o.x,this.offsety=i.y-o.y},e.prototype.onDragEnd=function(t){var e=fgui.GObject.cast(t.currentTarget),i=fgui.GRoot.inst.getTouchPosition();this.judgeCorrect(e,i,this.tmpDragObjName)},e.prototype.getDropCan=function(t){var e="none";return this.youhaiRect.contains(t)&&(e="youhai"),this.kehuishouRect.contains(t)&&(e="kehuishou"),this.shilajiRect.contains(t)&&(e="shilaji"),this.ganlajiRect.contains(t)&&(e="ganlaji"),e},e.prototype.putGarbageBack=function(t,e){var i=this;if(t.y<617){t.draggable=!1;var a=function(e){if(i.gamestatus){var s=o.default.getRandomInteger(617,960);t.y+=300*e,t.y>s&&(t.draggable=!0,i.schedule(i.tweenDic[t.id],0),i.unschedule(a))}};this.schedule(a,0)}else this.ResumeTween(t.asLoader)},e.prototype.judgeCorrect=function(t,e,i){var o=this.getDropCan(e),a=this.onDropGarbage(o,i);if("none"==o)return t.y<617&&(s.default.getInstance().playSound("clearFail"),this.wrong.stop(),this.wrong.setValue("pos",e.x,e.y),this.wrong.play()),void this.putGarbageBack(t,e);a.correct?(s.default.getInstance().playSound("clearWin"),this.right.stop(),this.right.setValue("pos",e.x,e.y),this.right.play(),this.returnToPool(t.asLoader)):(this.wrong.stop(),this.wrong.setValue("pos",e.x,e.y),this.wrong.play(),s.default.getInstance().playSound("clearFail"),this.putGarbageBack(t,e)),this.score.text=a.score.toString(),this.star_progress.value=a.curProgress,this.star_progress.max=a.curtotalProgress,this.task.selectedPage=a.level,20!=a.dropedGarbageNum||this.level1||(s.default.getInstance().playSound("level1"),this.level1=!0),27!=a.dropedGarbageNum||this.level2||(s.default.getInstance().playSound("level2"),this.level2=!0)},e.prototype.instantiate=function(){try{var t=this.getFromPool();this.settingGc(t),t.draggable=!0,this.setgcPos(t),this.strikeOut++}catch(t){console.log(t)}},e.prototype.settingGc=function(t){this.strikeOut>=this.garbageRes.length&&(this.strikeOut=0,this.fisherYatesShuffle()),t.url="ui://gc_com/"+this.garbageRes[this.strikeOut],t.name=this.garbageRes[this.strikeOut]},e.prototype.fisherYatesShuffle=function(){for(var t=this.garbageRes.length;t>0;){var e=o.default.getRandomInteger(0,t),i=this.garbageRes[e];this.garbageRes[e]=this.garbageRes[t-1],this.garbageRes[t-1]=i,t--}},e.prototype.instantiateFromSky=function(){try{var t=this.getFromPool();this.settingGc(t),t.draggable=!1,this.setSkygcPos(t),this.strikeOut++}catch(t){console.log(t)}},e.prototype.setSkygcPos=function(t){var e=this,i=o.default.getRandomInteger(200,1800),a=o.default.getRandomInteger(677,850);t.x=i,t.y=-50;var s=t,n=function(t){e.gamestatus&&(s.y+=300*t*1.5,s.y>a&&(s.draggable=!0,e.ResumeTween(s),e.unschedule(n)))};this.schedule(n,0)},e.prototype.ResumeTween=function(t){var e=this,i=t;this.tweenDic[t.id]=null,this.tweenDic[t.id]=function(o){e.gamestatus&&(i.x-=o*e.carouselSpeed,i.x<-t.width&&e.returnToPool(i))},this.schedule(this.tweenDic[t.id],0)},e.prototype.setgcPos=function(t){var e=o.default.getRandomInteger(1970,1972),i=o.default.getRandomInteger(677,850);t.x=e,t.y=i;var a=t;this.ResumeTween(a)},e.prototype.getFromPool=function(){var t;return this.gcInPool.length>0?t=this.gcInPool.pop():((t=new fgui.GLoader).setSize(200,200),this.view.addChild(t),t.on(fgui.Event.DRAG_START,this.onDragStart,this),t.on(fgui.Event.DRAG_END,this.onDragEnd,this)),t},e.prototype.returnToPool=function(t){this.unschedule(this.tweenDic[t.id]),this.gcInPool.push(t),t.x=-500},e.prototype.gameEnd=function(){fgui.GRoot.inst.removeChildren(0,-1,!0),this.addComponent(a.default),this.destroy()},e=__decorate([u],e)}(cc.Component));i.default=l,cc._RF.pop()},{"./Gameover":"Gameover","./MusicManager":"MusicManager","./Util":"Util"}],Gameover:[function(t,e,i){"use strict";cc._RF.push(e,"ac291f0+xVACbcG7behccRh","Gameover"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,t("./Welcome")),n=t("./GameView"),r=t("./GameLogic"),c=t("./UserData"),u=t("./Rank"),l=t("./MusicManager"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.barrel=null,e}return __extends(e,t),e.prototype.onLoad=function(){fgui.addLoadHandler(),fgui.GRoot.create(),fgui.UIPackage.loadPackage("UI/gc_com",this.onUILoaded.bind(this))},e.prototype.onUILoaded=function(){var t=this;this.view=fgui.UIPackage.createObject("gc_com","gameover").asCom,this.view.makeFullScreen(),fgui.GRoot.inst.addChild(this.view),this.input_root=this.view.getChild("input_root"),this.btn_return=this.view.getChild("btn_return").asButton,this.btn_return.onClick(this.onClickReturn,this),this.btn_replay=this.view.getChild("btn_replay").asButton,this.btn_replay.onClick(this.onClickReplay,this),this.btn_rank=this.view.getChild("btn_rank").asButton,this.btn_rank.onClick(this.onClickRank,this),this.input=this.view.getChild("input").asTextInput,this.inputCtl=this.view.getController("input"),this.btn_confirm=this.view.getChild("btn_confirm").asButton,this.btn_confirm.onClick(function(e){t.recordScore()},this),this.btn_cancel=this.view.getChild("btn_cancel").asButton,this.btn_cancel.onClick(function(e){t.inputCtl.selectedPage="hide"},this),this.score=this.view.getChild("score").asTextField,this.score_back=this.view.getChild("score_back").asTextField,this.task=this.view.getController("task"),this.gamelogic=r.default.getInstance();this.gamelogic.garbageData.level;var e=this.gamelogic.garbageData.score;this.score.text=e.toString(),this.score_back.text=e.toString(),this.volume=l.default.getInstance().getMusicVolume(),e>=0&&e<=80?(this.task.selectedPage="level2",l.default.getInstance().setAllMusicVolume(0),l.default.getInstance().playSound("fail")):(this.task.selectedPage="level3",l.default.getInstance().playSound("firework"),l.default.getInstance().playSound("vic"),l.default.getInstance().playSound("finish"),this.scheduleOnce(function(e){null!=t.barrel&&(t.barrel.active=!1)},10),this.loadBarrel())},e.prototype.recordScore=function(){this.inputCtl.selectedPage="hide";var t=this.input.text,e=this.gamelogic.garbageData.score,i=new c.default(Date.parse((new Date).toString()).toString(),t,e),o=JSON.parse(cc.sys.localStorage.getItem("userData"));null==o&&(o=new Array);var a=!1;o.forEach(function(i,s,n){t==i.name&&(o[s].score=Math.max(n[s].score,e),a=!0)},this),a||o.push(i);var s=JSON.stringify(o);cc.sys.localStorage.setItem("userData",s),fgui.GRoot.inst.removeChildren(0,-1,!0),this.addComponent(u.default),this.exit()},e.prototype.loadBarrel=function(){var t=this;cc.loader.loadRes("barrel",function(e,i){null==t.barrel?(t.barrel=cc.instantiate(i),cc.director.getScene().addChild(t.barrel)):t.barrel.active=!0})},e.prototype.onClickReturn=function(){fgui.GRoot.inst.removeChildren(0,-1,!0),this.addComponent(s.default),this.exit()},e.prototype.onClickReplay=function(){fgui.GRoot.inst.removeChildren(0,-1,!0);var t=this.addComponent(n.default);this.gamelogic.gameStart(t),this.exit()},e.prototype.onClickRank=function(){this.input_root.visible=!0},e.prototype.exit=function(){null!=this.barrel&&(this.barrel.active=!1),l.default.getInstance().setAllMusicVolume(this.volume)},e=__decorate([a],e)}(cc.Component);i.default=h,cc._RF.pop()},{"./GameLogic":"GameLogic","./GameView":"GameView","./MusicManager":"MusicManager","./Rank":"Rank","./UserData":"UserData","./Welcome":"Welcome"}],GarbageFactory:[function(t,e,i){"use strict";cc._RF.push(e,"a801052copI4KGUEYg37g0V","GarbageFactory"),Object.defineProperty(i,"__esModule",{value:!0});var o=t("./Util"),a=cc._decorator,s=a.ccclass,n=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.garbageRes=["kehuishou_1","kehuishou_2","kehuishou_3","kehuishou_4","kehuishou_5","ganlaji_1","ganlaji_2","ganlaji_3","ganlaji_4","ganlaji_5","shilaji_1","shilaji_2","shilaji_3","shilaji_4","shilaji_5","youhai_1","youhai_2","youhai_3","youhai_4","youhai_5"],e.onDragStart=null,e.onDragEnd=null,e}return __extends(e,t),e.prototype.prepareRefrence=function(t){console.log("prepareRefrence"),this.carousel=t},e.prototype.instantial=function(){console.log("Instantita");try{var t=new fgui.GLoader;t.setSize(200,200);var e=o.default.getRandomInteger(0,this.garbageRes.length+1);t.url="ui://gc_com/"+this.garbageRes[e],t.draggable=!0,this.carousel.addChild(t);var i=o.default.getRandomInteger(800,960),a=o.default.getRandomInteger(677,960);t.x=i,t.y=a,t.on(fgui.Event.DRAG_START,this.onDragStart,this),t.on(fgui.Event.DRAG_END,this.onDragEnd,this),console.log("Instantital success")}catch(t){console.log(t)}},e=__decorate([s],e)}(cc.Component));i.default=n,cc._RF.pop()},{"./Util":"Util"}],Introduction:[function(t,e,i){"use strict";cc._RF.push(e,"08c2bvk98VFwJJiwj/nzSMz","Introduction"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,t("./Welcome")),n=t("./MusicManager"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=1,e}return __extends(e,t),e.prototype.onLoad=function(){fgui.addLoadHandler(),fgui.GRoot.create(),fgui.UIPackage.loadPackage("UI/gc_com",this.onUILoaded.bind(this))},e.prototype.onUILoaded=function(){var t=this;this.view=fgui.UIPackage.createObject("gc_com","introduction").asCom,this.view.makeFullScreen(),fgui.GRoot.inst.addChild(this.view),this.simpleRoot=this.view.getChild("simpleRoot"),this.detailRoot=this.view.getChild("detailRoot"),this.loader=this.view.getChild("loader").asLoader,this.loader.url=this.index.toString(),this.btn_detail1=this.view.getChild("btn_detail1").asButton,this.btn_detail2=this.view.getChild("btn_detail2").asButton,this.btn_detail1.onClick(function(){t.index=1,t.loader.url=t.index.toString(),t.simpleRoot.visible=!1,t.detailRoot.visible=!0,n.default.getInstance().playMusic("bgm2")},this),this.btn_detail2.onClick(function(){t.index=1,t.loader.url=t.index.toString(),t.simpleRoot.visible=!1,t.detailRoot.visible=!0,n.default.getInstance().playMusic("bgm2")},this),this.btn_returngame=this.view.getChild("btn_returngame").asButton,this.btn_returngame.onClick(function(){t.simpleRoot.visible=!0,t.detailRoot.visible=!1,n.default.getInstance().playMusic("bj")},this),this.btn_pre=this.view.getChild("btn_pre").asButton,this.btn_next=this.view.getChild("btn_next").asButton,this.btn_pre.onClick(function(){t.index--,t.index<0&&(t.index=21),t.loader.url=t.index.toString()},this),this.btn_next.onClick(function(){t.index++,t.index>21&&(t.index=0),t.loader.url=t.index.toString()},this),this.btn_return=this.view.getChild("btn_return").asButton,this.btn_return.onClick(this.onClickReturn,this),this.btn_game_sound=this.view.getChild("btn_game_sound").asButton,this.sound_status=this.view.getChild("btn_game_sound").asCom.getController("status");var e=n.default.getInstance().getMusicVolume();this.sound_status.selectedPage=0==e?"pause":"play",this.btn_game_sound.onClick(function(){var e=t.sound_status.selectedPage;e="play"==e?"pause":"play",0==n.default.getInstance().getMusicVolume()?(n.default.getInstance().setAllMusicVolume(1),n.default.getInstance().setAllSoundVolume(1)):(n.default.getInstance().setAllMusicVolume(0),n.default.getInstance().setAllSoundVolume(0)),t.sound_status.selectedPage=e},this)},e.prototype.onClickReturn=function(){fgui.GRoot.inst.removeChildren(0,-1,!0),this.addComponent(s.default)},e=__decorate([a],e)}(cc.Component);i.default=r,cc._RF.pop()},{"./MusicManager":"MusicManager","./Welcome":"Welcome"}],MusicManager:[function(t,e,i){"use strict";cc._RF.push(e,"5915f63N0JNbJRfzEtdaqPR","MusicManager"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,function(){function t(){}var e;return e=t,t.getInstance=function(){return e.instance||(e.instance=new e,e.instance.registerMusicManage()),e.instance},t.prototype.registerMusicManage=function(){this.musicManagerNode=cc.find("MusicManager"),this.musicBox=this.musicManagerNode.getChildByName("musicBox"),this.soundBox=this.musicManagerNode.getChildByName("soundBox"),this.musicNum=1,this.soundNum=1},t.prototype.setAllMusicVolume=function(t){this.musicNum=t;for(var e=this.musicBox.getComponents(cc.AudioSource),i=0;i<e.length;i++)e[i].volume=t},t.prototype.getMusicVolume=function(){return this.musicNum},t.prototype.getSoundVolume=function(){return this.soundNum},t.prototype.setAllSoundVolume=function(t){this.soundNum=t;for(var e=this.soundBox.getComponents(cc.AudioSource),i=0;i<e.length;i++)e[i].volume=t},t.prototype.getMusicAudioSource=function(t){for(var e=this.musicBox.getComponents(cc.AudioSource),i=0;i<e.length;i++)if(t==e[i].clip+"")return e[i]},t.prototype.playMusic=function(t){var e=this;cc.loader.loadRes(t,cc.AudioClip,function(t,i){var o=i,a=e.musicBox.getComponent(cc.AudioSource);a.clip=o,a.volume=e.musicNum,a.loop=!0,a.isPlaying||a.play()})},t.prototype.playSound=function(t){var e=this;cc.loader.loadRes(t,cc.AudioClip,function(t,i){var o=i,a=e.soundBox.addComponent(cc.AudioSource);a.clip=o,a.volume=e.soundNum,a.scheduleOnce(function(){var t=a.getDuration();setTimeout(function(){a.destroy()},1e3*t)}),a.play()})},t=e=__decorate([a],t)}());i.default=s,cc._RF.pop()},{}],Rank:[function(t,e,i){"use strict";cc._RF.push(e,"6e688Exo25MjYk+OdG4fcov","Rank"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,t("./Welcome")),n=t("./GameView"),r=t("./GameLogic"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colors=[new cc.Color(255,143,5,1),new cc.Color(255,143,5,1),new cc.Color(255,143,5,1),new cc.Color(255,143,5,1),new cc.Color(255,143,5,1),new cc.Color(255,143,5,1),new cc.Color(255,143,5,1),new cc.Color(255,143,5,1)],e}return __extends(e,t),e.prototype.onLoad=function(){fgui.addLoadHandler(),fgui.GRoot.create(),fgui.UIPackage.loadPackage("UI/gc_com",this.onUILoaded.bind(this))},e.prototype.onUILoaded=function(){this.view=fgui.UIPackage.createObject("gc_com","rank").asCom,this.view.makeFullScreen(),fgui.GRoot.inst.addChild(this.view),this.btn_challenge=this.view.getChild("btn_challenge").asButton,this.btn_challenge.onClick(this.onClickChallenge,this),this.btn_return=this.view.getChild("btn_return").asButton,this.btn_return.onClick(this.onClickReturn,this),this.userDatas=JSON.parse(cc.sys.localStorage.getItem("userData")),null!=this.userDatas&&(this.userDatas.sort(function(t,e){return t.score>e.score?-1:t.score<e.score?1:0}),cc.log(this.userDatas.length),this.rank_list=this.view.getChild("rank_list").asList,this.rank_list.itemRenderer=this.renderRank.bind(this),this.rank_list.numItems=this.userDatas.length)},e.prototype.renderRank=function(t,e){var i=e.asCom,o=i.getChild("name").asTextField,a=i.getChild("rank").asTextField,s=i.getChild("score").asTextField,n=t+1;a.text=n.toString(),o.text=this.userDatas[t].name,s.text=this.userDatas[t].score.toString(),t<3&&(i.getChild((t+1).toString()).alpha=1,a.text="")},e.prototype.onClickChallenge=function(){fgui.GRoot.inst.removeChildren(0,-1,!0);var t=this.addComponent(n.default);r.default.getInstance().gameStart(t)},e.prototype.onClickReturn=function(){fgui.GRoot.inst.removeChildren(0,-1,!0),this.addComponent(s.default)},e=__decorate([a],e)}(cc.Component);i.default=c,cc._RF.pop()},{"./GameLogic":"GameLogic","./GameView":"GameView","./Welcome":"Welcome"}],Rule:[function(t,e,i){"use strict";cc._RF.push(e,"39be3TGvS5Itr6tX6cMtLgV","Rule"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,t("./Welcome")),n=t("./MusicManager"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){fgui.addLoadHandler(),fgui.GRoot.create(),fgui.UIPackage.loadPackage("UI/gc_com",this.onUILoaded.bind(this))},e.prototype.onUILoaded=function(){var t=this;this.view=fgui.UIPackage.createObject("gc_com","rule").asCom,this.view.makeFullScreen(),fgui.GRoot.inst.addChild(this.view),this.trash_list=this.view.getChild("trash_list").asList,this.trash_list.itemRenderer=this.renderListItem.bind(this),this.trash_list.numItems=4,this.trash_list.on(fgui.Event.CLICK_ITEM,this.onClickItem,this),this.trash_list.selectedIndex=0,this.btn_game_sound=this.view.getChild("btn_game_sound").asButton,this.sound_status=this.view.getChild("btn_game_sound").asCom.getController("status");var e=n.default.getInstance().getMusicVolume();this.sound_status.selectedPage=0==e?"pause":"play",this.btn_game_sound.onClick(function(){var e=t.sound_status.selectedPage;e="play"==e?"pause":"play",0==n.default.getInstance().getMusicVolume()?(n.default.getInstance().setAllMusicVolume(1),n.default.getInstance().setAllSoundVolume(1)):(n.default.getInstance().setAllMusicVolume(0),n.default.getInstance().setAllSoundVolume(0)),t.sound_status.selectedPage=e},this),this.btn_return=this.view.getChild("btn_return").asButton,this.btn_return.onClick(this.onClickReturn,this),this.rule_content=this.view.getChild("rule_content").asLoader},e.prototype.onClickItem=function(t){var e=this.trash_list.getChildIndex(t);this.rule_content.url=fgui.UIPackage.getItemURL("gc_com","garbageInfo"+(e+1))},e.prototype.renderListItem=function(t,e){e.icon=fgui.UIPackage.getItemURL("gc_com","garbage"+(t+1))},e.prototype.onClickReturn=function(){fgui.GRoot.inst.removeChildren(0,-1,!0),this.addComponent(s.default)},e=__decorate([a],e)}(cc.Component);i.default=r,cc._RF.pop()},{"./MusicManager":"MusicManager","./Welcome":"Welcome"}],UserData:[function(t,e,i){"use strict";cc._RF.push(e,"764bc0LlmNN7Ij4JJOsI0QJ","UserData"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,function(){function t(t,e,i){this.id=t,this.name=e,this.score=i}return t=__decorate([a],t)}());i.default=s,cc._RF.pop()},{}],Util:[function(t,e,i){"use strict";cc._RF.push(e,"3d103Her6tDd5i9DxKjKrnh","Util"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,function(){function t(){}return t.getRandomInteger=function(t,e){if(t==e)return t;if(t>e)return this.getRandomInteger(e,t);var i=e-t,o=Math.random();return t+Math.floor(o*i)},t=__decorate([a],t)}());i.default=s,cc._RF.pop()},{}],Welcome:[function(t,e,i){"use strict";cc._RF.push(e,"f04dbuwdC9NyblWjVB95YXr","Welcome"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,t("./Rule")),n=t("./Rank"),r=t("./GameView"),c=t("./GameLogic"),u=t("./MusicManager"),l=t("./Introduction"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){fgui.addLoadHandler(),fgui.GRoot.create(),fgui.UIPackage.loadPackage("UI/gc_com",this.onUILoaded.bind(this))},e.prototype.onUILoaded=function(){this.view=fgui.UIPackage.createObject("gc_com","welcome").asCom,this.view.makeFullScreen(),fgui.GRoot.inst.addChild(this.view),this.btn_rule=this.view.getChild("btn_rule").asButton,this.btn_rule.onClick(this.onClickRule,this),this.btn_start=this.view.getChild("btn_start").asButton,this.btn_start.onClick(this.onClickStart,this),this.btn_start=this.view.getChild("btn_intro").asButton,this.btn_start.onClick(this.onClickIntro,this),this.btn_rank=this.view.getChild("btn_rank").asButton,this.btn_rank.onClick(this.onClickRank,this),this.btn_close=this.view.getChild("btn_close").asButton,this.btn_close.onClick(function(){cc.game.end()},this),u.default.getInstance().playMusic("bj")},e.prototype.onClickRule=function(){fgui.GRoot.inst.removeChildren(0,-1,!0),this.addComponent(s.default)},e.prototype.onClickStart=function(){fgui.GRoot.inst.removeChildren(0,-1,!0);var t=this.addComponent(r.default);c.default.getInstance().gameStart(t)},e.prototype.onClickIntro=function(){fgui.GRoot.inst.removeChildren(0,-1,!0);this.addComponent(l.default)},e.prototype.onClickRank=function(){fgui.GRoot.inst.removeChildren(0,-1,!0),this.addComponent(n.default)},e=__decorate([a],e)}(cc.Component);i.default=h,cc._RF.pop()},{"./GameLogic":"GameLogic","./GameView":"GameView","./Introduction":"Introduction","./MusicManager":"MusicManager","./Rank":"Rank","./Rule":"Rule"}],firework:[function(t,e,i){"use strict";cc._RF.push(e,"c23803Q281HrJ+txG7G/7u+","firework"),cc.Class({extends:cc.Component,properties:{firework:cc.Prefab},start:function(){this.fireworkPool=new cc.NodePool;for(var t=0;t<20;t++){var e=cc.instantiate(this.firework);this.fireworkPool.put(e)}},onEnable:function(){this.schedule(this.createfirework,.4)},onDisable:function(){this.unschedule(this.createfirework)},createfirework:function(){if(this.fireworkPool.size()>0)var t=this.fireworkPool.get();else t=cc.instantiate(this.firework);t.parent=fgui.GRoot.inst.node,t.setSiblingIndex(t.childrenCount-1),t.x=1920*Math.random(),t.y=-900*Math.random(),t.getComponent(cc.ParticleSystem).resetSystem(),this.scheduleOnce(function(){t.getComponent(cc.ParticleSystem).stopSystem(),this.fireworkPool.put(t)},2)}}),cc._RF.pop()},{}]},{},["DataClass","GameLogic","GameView","Gameover","GarbageFactory","Introduction","MusicManager","Rank","Rule","UserData","Util","Welcome","firework"]);